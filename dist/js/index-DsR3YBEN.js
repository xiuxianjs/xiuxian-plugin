import{r as e}from"./react-vendor-BNT5GVrG.js";import{g as t,m as o,r as n,C as r,c as a,b as l,a as i}from"./index-B2-_ZLms.js";import{a2 as s,c,g as d,K as p}from"./XiuxianUserSelector-V8nxbYv3.js";import{b as m,c as g,d as u,P as b,T as f}from"./AntdIcon-KqtHakU8.js";import{i as y}from"./XiuxianPageTitle-B5ecsZ4O.js";const v=e=>e?"function"==typeof e?e():e:null,x=e=>{const{componentCls:t,popoverColor:o,titleMinWidth:r,fontWeightStrong:a,innerPadding:l,boxShadowSecondary:i,colorTextHeading:s,borderRadiusLG:c,zIndexPopup:d,titleMarginBottom:p,colorBgElevated:g,popoverBg:u,titleBorderBottom:b,innerContentPadding:f,titlePadding:y}=e;return[{[t]:Object.assign(Object.assign({},n(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":g,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:u,backgroundClip:"padding-box",borderRadius:c,boxShadow:i,padding:l},[`${t}-title`]:{minWidth:r,marginBottom:p,color:s,fontWeight:a,borderBottom:b,padding:y},[`${t}-inner-content`]:{color:o,padding:f}})},m(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},O=e=>{const{componentCls:t}=e;return{[t]:s.map(o=>{const n=e[`${o}6`];return{[`&${t}-${o}`]:{"--antd-arrow-background-color":n,[`${t}-inner`]:{backgroundColor:n},[`${t}-arrow`]:{background:"transparent"}}}})}},h=t("Popover",e=>{const{colorBgElevated:t,colorText:n}=e,r=o(e,{popoverBg:t,popoverColor:n});return[x(r),O(r),y(r,"zoom-big")]},e=>{const{lineWidth:t,controlHeight:o,fontHeight:n,padding:r,wireframe:a,zIndexPopupBase:l,borderRadiusLG:i,marginXS:s,lineType:c,colorSplit:d,paddingSM:p}=e,m=o-n,b=m/2,f=m/2-t,y=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},g(e)),u({contentRadius:i,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:s,titlePadding:a?`${b}px ${y}px ${f}px`:0,titleBorderBottom:a?`${t}px ${c} ${d}`:"none",innerContentPadding:a?`${p}px ${y}px`:0})},{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});const C=({title:t,content:o,prefixCls:n})=>t||o?e.createElement(e.Fragment,null,t&&e.createElement("div",{className:`${n}-title`},t),o&&e.createElement("div",{className:`${n}-inner-content`},o)):null,j=t=>{const{hashId:o,prefixCls:n,className:r,style:l,placement:i="top",title:s,content:c,children:d}=t,p=v(s),m=v(c),g=a(o,n,`${n}-pure`,`${n}-placement-${i}`,r);return e.createElement("div",{className:g,style:l},e.createElement("div",{className:`${n}-arrow`}),e.createElement(b,Object.assign({},t,{className:o,prefixCls:n}),d||e.createElement(C,{prefixCls:n,title:p,content:m})))},w=t=>{const{prefixCls:o,className:n}=t,l=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o}(t,["prefixCls","className"]),{getPrefixCls:i}=e.useContext(r),s=i("popover",o),[c,d,p]=h(s);return c(e.createElement(j,Object.assign({},l,{prefixCls:s,hashId:d,className:a(n,p)})))};const $=e.forwardRef((t,o)=>{var n,r;const{prefixCls:s,title:m,content:g,overlayClassName:u,placement:b="top",trigger:y="hover",children:x,mouseEnterDelay:O=.1,mouseLeaveDelay:j=.1,onOpenChange:w,overlayStyle:$={},styles:P,classNames:E}=t,N=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o}(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:S,className:k,style:B,classNames:W,styles:I}=l("popover"),D=S("popover",s),[z,M,R]=h(D),T=S(),L=a(u,M,R,k,W.root,null==E?void 0:E.root),V=a(W.body,null==E?void 0:E.body),[_,A]=c(!1,{value:null!==(n=t.open)&&void 0!==n?n:t.visible,defaultValue:null!==(r=t.defaultOpen)&&void 0!==r?r:t.defaultVisible}),H=(e,t)=>{A(e,!0),null==w||w(e,t)},K=v(m),X=v(g);return z(e.createElement(f,Object.assign({placement:b,trigger:y,mouseEnterDelay:O,mouseLeaveDelay:j},N,{prefixCls:D,classNames:{root:L,body:V},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},I.root),B),$),null==P?void 0:P.root),body:Object.assign(Object.assign({},I.body),null==P?void 0:P.body)},ref:o,open:_,onOpenChange:e=>{H(e)},overlay:K||X?e.createElement(C,{prefixCls:D,title:K,content:X}):null,transitionName:d(T,"zoom-big",N.transitionName),"data-popover-inject":!0}),i(x,{onKeyDown:t=>{var o,n;e.isValidElement(x)&&(null===(n=null==x?void 0:(o=x.props).onKeyDown)||void 0===n||n.call(o,t)),(e=>{e.keyCode===p.ESC&&H(!1,e)})(t)}})))});$._InternalPanelDoNotUseOrYouWillBeFired=w;export{$ as P,w as a,v as g};
