import{o as e,p as s}from"./index-D64fSWen.js";import{M as l}from"./index-yWgYGWn4.js";import{I as i,C as r,T as a}from"./AntdIcon-BrIVTVC9.js";import{T as t}from"./index-OFQobG-o.js";import{A as n}from"./index-DFMXDXNR.js";import{D as c}from"./index-DQw-pPfg.js";import{T as d}from"./index-DU3lSUt0.js";import{R as o,C as x}from"./row-KUrmra0O.js";import{S as j}from"./index-CNaFVlZv.js";import{R as m}from"./CloseOutlined-B--xzqQ7.js";import{r as h}from"./react-vendor-B_j1QKL9.js";import{l as u,p}from"./config-C-P0NNBq.js";import{F as g}from"./index-D88ViWFg.js";import{I as f}from"./index-Ba3ggKkW.js";import{S as v,F as b}from"./Table-CcmlabOw.js";import{R as y}from"./UserOutlined-BPw5ZWA_.js";import{T as S}from"./index-DpPhw_8z.js";import{R as w}from"./CrownOutlined-C1NA_heS.js";import{B as I}from"./EllipsisOutlined-B7G7Lika.js";import{R as N}from"./SaveOutlined-BoOqeck_.js";import{g as z,a as T,u as L}from"./game-users-DuyIM_qg.js";import{s as C}from"./index-CNd4JuwY.js";import{S as O}from"./index-BVzpzorU.js";import{R as $}from"./TrophyOutlined-BVPMSDgz.js";import{R as k}from"./FireOutlined-iSvRmuP2.js";import{A as D}from"./index-C97HEmre.js";import{T as U}from"./index-ChgZ5ieq.js";import{R as B}from"./EyeOutlined-DyWz_EC7.js";import{R as E}from"./EditOutlined-BSaIuPsK.js";import"./ExclamationCircleFilled-DT70Ahrp.js";import"./InfoCircleFilled-CZmHaujc.js";import"./context-C6B8do_o.js";import"./DownOutlined-CLoAI_il.js";import"./EditOutlined-jOoJX1ad.js";import"./CheckOutlined-BLh5wKOq.js";import"./TextArea-RvXwFgUf.js";import"./index-GvAVA_fY.js";import"./index-CdLfu89T.js";var V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M342 472h342c.4 0 .9 0 1.3-.1 4.4-.7 7.3-4.8 6.6-9.2l-40.2-248c-.6-3.9-4-6.7-7.9-6.7H382.2c-3.9 0-7.3 2.8-7.9 6.7l-40.2 248c-.1.4-.1.9-.1 1.3 0 4.4 3.6 8 8 8zm91.2-196h159.5l20.7 128h-201l20.8-128zm2.5 282.7c-.6-3.9-4-6.7-7.9-6.7H166.2c-3.9 0-7.3 2.8-7.9 6.7l-40.2 248c-.1.4-.1.9-.1 1.3 0 4.4 3.6 8 8 8h342c.4 0 .9 0 1.3-.1 4.4-.7 7.3-4.8 6.6-9.2l-40.2-248zM196.5 748l20.7-128h159.5l20.7 128H196.5zm709.4 58.7l-40.2-248c-.6-3.9-4-6.7-7.9-6.7H596.2c-3.9 0-7.3 2.8-7.9 6.7l-40.2 248c-.1.4-.1.9-.1 1.3 0 4.4 3.6 8 8 8h342c.4 0 .9 0 1.3-.1 4.3-.7 7.3-4.8 6.6-9.2zM626.5 748l20.7-128h159.5l20.7 128H626.5z"}}]},name:"gold",theme:"outlined"};function F(){return F=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},F.apply(this,arguments)}const R=(e,s)=>h.createElement(i,F({},e,{ref:s,icon:V})),A=h.forwardRef(R);var H={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"};function M(){return M=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i])}return e},M.apply(this,arguments)}const _=(e,s)=>h.createElement(i,M({},e,{ref:s,icon:H})),P=h.forwardRef(_),q=({userDetailVisible:s,setUserDetailVisible:i,selectedUser:a,getSexDisplay:h,getLevelName:u,getLinggenColor:p})=>{var g;return e.jsx(l,{title:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(t.Title,{level:4,style:{margin:0},children:"corrupted"===(null==a?void 0:a.数据状态)?"损坏数据详情":"用户详情"})}),open:s,onCancel:()=>i(!1),footer:null,className:"",closeIcon:e.jsx(m,{className:""}),width:"corrupted"===(null==a?void 0:a.数据状态)?1200:800,children:a&&e.jsx("div",{className:"space-y-6",children:"corrupted"===a.数据状态?e.jsxs(r,{children:[e.jsx(t.Title,{level:5,style:{marginBottom:16},children:"损坏数据 - 原始JSON内容"}),a.错误信息?e.jsx(n,{type:"error",showIcon:!0,message:a.错误信息,style:{marginBottom:12}}):null,e.jsx(r,{size:"small",style:{maxHeight:384,overflow:"auto"},children:e.jsx(t.Paragraph,{code:!0,style:{whiteSpace:"pre-wrap",margin:0},children:a.原始数据})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(r,{children:[e.jsx(t.Title,{level:5,style:{marginBottom:16},children:"基础信息"}),e.jsxs(c,{column:2,bordered:!0,size:"middle",children:[e.jsx(c.Item,{label:"用户ID",children:a.id}),e.jsx(c.Item,{label:"名号",children:a.名号}),e.jsx(c.Item,{label:"性别",children:h(a.sex)}),e.jsx(c.Item,{label:"境界",children:u(a.level_id)}),e.jsx(c.Item,{label:"灵根",span:2,children:e.jsx(d,{color:p(a.灵根),children:(null==(g=a.灵根)?void 0:g.name)??"未知"})}),e.jsx(c.Item,{label:"修炼效率",children:`${(100*(a.修炼效率提升??0)).toFixed(2)}%`}),e.jsx(c.Item,{label:"宣言",children:a.宣言??"这个人很懒还没有写"})]})]}),e.jsxs(r,{children:[e.jsx(t.Title,{level:5,style:{marginBottom:16},children:"战斗属性"}),e.jsxs(o,{gutter:[16,16],children:[e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"攻击力",value:a.攻击??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"防御力",value:a.防御??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"当前血量",value:a.当前血量??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"血量上限",value:a.血量上限??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"暴击率",value:Number((100*(a.暴击率??0)).toFixed(2)),suffix:"%"})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"暴击伤害",value:a.暴击伤害??0,suffix:"%"})})})]})]}),e.jsxs(r,{children:[e.jsx(t.Title,{level:5,style:{marginBottom:16},children:"资源信息"}),e.jsxs(o,{gutter:[16,16],children:[e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"灵石",value:a.灵石??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"神石",value:a.神石??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"轮回点",value:a.轮回点??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"修为",value:a.修为??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"血气",value:a.血气??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"好感度",value:a.favorability??0})})})]})]}),e.jsxs(r,{children:[e.jsx(t.Title,{level:5,style:{marginBottom:16},children:"成就信息"}),e.jsxs(o,{gutter:[16,16],children:[e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"镇妖塔层数",value:a.镇妖塔层数??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"神魄段数",value:a.神魄段数??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"魔道值",value:a.魔道值??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"轮回次数",value:a.lunhui??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"连续签到",value:a.连续签到天数??0})})}),e.jsx(x,{span:8,children:e.jsx(r,{size:"small",children:e.jsx(j,{title:"幸运值",value:a.幸运??0})})})]})]})]})})})},{Option:G}=v;function J({visible:s,onCancel:i,onSave:r,user:t,loading:n=!1}){const[c]=g.useForm(),[d,j]=h.useState(null);h.useEffect(()=>{s&&t&&(j({...t}),c.setFieldsValue({id:t.id,"名号":t.名号,sex:t.sex,level_id:t.level_id,"宣言":t.宣言,"攻击":t.攻击,"防御":t.防御,"当前血量":t.当前血量,"血量上限":t.血量上限,"暴击率":t.暴击率,"暴击伤害":t.暴击伤害,"灵石":t.灵石,"神石":t.神石,"轮回点":t.轮回点,"修为":t.修为,"血气":t.血气,favorability:t.favorability,"镇妖塔层数":t.镇妖塔层数,"神魄段数":t.神魄段数,"魔道值":t.魔道值,lunhui:t.lunhui,"连续签到天数":t.连续签到天数,"幸运":t.幸运}))},[s,t,c]);return e.jsx(l,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"编辑用户"}),e.jsxs("span",{children:["用户ID: ",null==t?void 0:t.id]})]}),open:s,onCancel:i,width:1200,footer:[e.jsx(I,{onClick:i,children:"取消"},"cancel"),e.jsx(I,{type:"primary",icon:e.jsx(N,{}),onClick:()=>{(async()=>{try{const e=await c.validateFields();if(d){const s={...d,...e};r(s)}}catch(e){}})()},loading:n,children:"保存"},"save")],className:"",children:e.jsx("div",{className:"space-y-6",children:e.jsx(g,{form:c,layout:"vertical",children:e.jsx(a,{type:"card",items:[{key:"basic",label:e.jsxs("span",{className:"transition-colors flex items-center gap-2",children:[e.jsx(y,{}),"基础信息"]}),children:e.jsx("div",{className:"p-4",children:e.jsxs(o,{gutter:16,children:[e.jsx(x,{span:8,children:e.jsx(g.Item,{label:"用户ID",name:"id",rules:[{required:!0,message:"请输入用户ID"}],children:e.jsx(f,{disabled:!0})})}),e.jsx(x,{span:8,children:e.jsx(g.Item,{label:"名号",name:"名号",rules:[{required:!0,message:"请输入名号"}],children:e.jsx(f,{})})}),e.jsx(x,{span:8,children:e.jsx(g.Item,{label:"性别",name:"sex",children:e.jsxs(v,{children:[e.jsx(G,{value:"男",children:"男"}),e.jsx(G,{value:"女",children:"女"})]})})}),e.jsx(x,{span:8,children:e.jsx(g.Item,{label:"境界",name:"level_id",children:e.jsx(v,{children:Object.entries(u).map(([s,l])=>e.jsx(G,{value:parseInt(s),children:l},s))})})}),e.jsx(x,{span:16,children:e.jsx(g.Item,{label:"宣言",name:"宣言",children:e.jsx(f.TextArea,{rows:2})})})]})})},{key:"combat",label:e.jsxs("span",{className:"transition-colors flex items-center gap-2",children:[e.jsx(P,{}),"战斗属性"]}),children:e.jsx("div",{className:"p-4",children:e.jsxs(o,{gutter:16,children:[e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"攻击力",name:"攻击",children:e.jsx(S,{className:"w-full",min:0,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>(null==e?void 0:e.replace(/\$\s?|(,*)/g,""))??""})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"防御力",name:"防御",children:e.jsx(S,{className:"w-full",min:0,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>(null==e?void 0:e.replace(/\$\s?|(,*)/g,""))??""})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"当前血量",name:"当前血量",children:e.jsx(S,{className:"w-full",min:0,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>(null==e?void 0:e.replace(/\$\s?|(,*)/g,""))??""})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"血量上限",name:"血量上限",children:e.jsx(S,{className:"w-full",min:0,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>(null==e?void 0:e.replace(/\$\s?|(,*)/g,""))??""})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"暴击率",name:"暴击率",children:e.jsx(S,{className:"w-full",min:0,max:1,step:.01,formatter:e=>`${(100*Number(e)).toFixed(2)}%`,parser:e=>(null==e?void 0:e.replace("%",""))?Number(null==e?void 0:e.replace("%",""))/100:0})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"暴击伤害",name:"暴击伤害",children:e.jsx(S,{className:"w-full",min:0,formatter:e=>`${e}%`,parser:e=>(null==e?void 0:e.replace("%",""))??0})})})]})})},{key:"resources",label:e.jsxs("span",{className:"transition-colors flex items-center gap-2",children:[e.jsx(A,{}),"修仙资源"]}),children:e.jsx("div",{className:"p-4",children:e.jsxs(o,{gutter:16,children:[e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"灵石",name:"灵石",children:e.jsx(S,{className:"w-full",min:0,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>(null==e?void 0:e.replace(/\$\s?|(,*)/g,""))??""})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"神石",name:"神石",children:e.jsx(S,{className:"w-full",min:0,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>(null==e?void 0:e.replace(/\$\s?|(,*)/g,""))??""})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"轮回点",name:"轮回点",children:e.jsx(S,{className:"w-full",min:0})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"修为",name:"修为",children:e.jsx(S,{className:"w-full",min:0,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>(null==e?void 0:e.replace(/\$\s?|(,*)/g,""))??""})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"血气",name:"血气",children:e.jsx(S,{className:"w-full",min:0,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>(null==e?void 0:e.replace(/\$\s?|(,*)/g,""))??""})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"好感度",name:"favorability",children:e.jsx(S,{className:"w-full",min:0})})})]})})},{key:"achievements",label:e.jsxs("span",{className:"transition-colors flex items-center gap-2",children:[e.jsx(w,{}),"修仙成就"]}),children:e.jsx("div",{className:"p-4",children:e.jsxs(o,{gutter:16,children:[e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"镇妖塔层数",name:"镇妖塔层数",children:e.jsx(S,{className:"w-full",min:0})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"神魄段数",name:"神魄段数",children:e.jsx(S,{className:"w-full",min:0})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"魔道值",name:"魔道值",children:e.jsx(S,{className:"w-full",min:0})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"轮回次数",name:"lunhui",children:e.jsx(S,{className:"w-full",min:0})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"连续签到天数",name:"连续签到天数",children:e.jsx(S,{className:"w-full",min:0})})}),e.jsx(x,{span:6,children:e.jsx(g.Item,{label:"幸运值",name:"幸运",children:e.jsx(S,{className:"w-full",min:0})})})]})})}]})})})})}function K(){const{gameUsers:l,loading:i,searchText:a,setSearchText:n,setSelectedUser:c,setUserDetailVisible:m,setUserEditVisible:g,stats:v,pagination:S,fetchGameUsers:N,handleSearchAndFilter:V,handleTableChange:F,handleEditUser:R,handleSaveUser:A,getSexDisplay:H,getLinggenColor:M,getLevelName:_,userDetailVisible:P,userEditVisible:G,editLoading:K,selectedUser:Q}=(()=>{const{user:e}=s(),[l,i]=h.useState([]),[r,a]=h.useState(!1),[t,n]=h.useState(""),[c,d]=h.useState(null),[o,x]=h.useState(!1),[j,m]=h.useState(!1),[g,f]=h.useState(!1),[v,b]=h.useState({current:1,pageSize:p,total:0,totalPages:0}),[y,S]=h.useState({total:0,highLevel:0,mediumLevel:0,lowLevel:0,totalLingshi:0,totalShenshi:0,totalLunhui:0}),w=async(s=1,l=p)=>{if(e){a(!0);try{if(!localStorage.getItem("token"))return void C.error("未找到登录令牌");const e=await T({page:s,pageSize:l,search:t});e.success&&e.data?(i(e.data.list),b(e.data.pagination)):C.error(e.message??"获取用户数据失败")}catch(r){C.error("获取用户数据失败")}finally{a(!1)}}};h.useEffect(()=>{w(1,20),I()},[e]);const I=async()=>{if(e)try{if(!localStorage.getItem("token"))return void C.error("未找到登录令牌");const e=await z(t);e.success&&e.data&&S(e.data)}catch(s){}};return{gameUsers:l,loading:r,searchText:t,selectedUser:c,userDetailVisible:o,userEditVisible:j,editLoading:g,pagination:v,stats:y,getLevelName:e=>u[e]??`境界${e}`,getSexDisplay:e=>"0"===e?"男":"1"===e?"女":"未知",getLinggenColor:e=>{if(!e)return"default";const s=(null==e?void 0:e.name)??"";return s.includes("混沌")||s.includes("天五")||s.includes("九转")?"gold":s.includes("五灵")||s.includes("九重")?"purple":s.includes("三灵")||s.includes("双灵")?"blue":"green"},handleSearchAndFilter:async()=>{w(1,v.pageSize),await I()},handleTableChange:async(e,s)=>{await w(e,s)},handleEditUser:e=>{d(e),m(!0)},handleSaveUser:async e=>{f(!0);try{if(!localStorage.getItem("token"))return void C.error("未找到登录令牌");const s=await L(e.id,e);s.success?(C.success("用户更新成功"),m(!1),w(v.current,v.pageSize),I()):C.error(s.message??"用户更新失败")}catch(s){C.error("用户更新失败")}finally{f(!1)}},fetchGameUsers:w,fetchStats:I,setSearchText:n,setSelectedUser:d,setUserDetailVisible:x,setUserEditVisible:m}})(),W=[{title:"修仙者信息",key:"userInfo",width:220,render:(s,l)=>{var i;return e.jsxs(O,{align:"start",children:[e.jsx(D,{size:48,src:l.avatar,children:(null==(i=l.名号)?void 0:i[0])??"道"}),e.jsxs(O,{direction:"vertical",size:2,children:[e.jsx(t.Text,{strong:!0,children:l.名号}),e.jsxs(t.Text,{type:"secondary",children:["ID: ",l.id]}),e.jsxs(t.Text,{type:"secondary",children:[H(l.sex)," | 轮回: ",l.lunhui]})]})]})}},{title:"境界修为",key:"level",width:160,render:(s,l)=>e.jsxs(O,{direction:"vertical",size:0,children:[e.jsx(t.Text,{strong:!0,children:u[l.level_id]}),e.jsxs(t.Text,{children:["修为: ",(l.修为??0).toLocaleString()]}),e.jsxs(t.Text,{children:["血气: ",(l.血气??0).toLocaleString()]})]})},{title:"灵根资质",key:"linggen",width:130,render:(s,l)=>{var i;return e.jsx(d,{color:M(l.灵根),children:(null==(i=l.灵根)?void 0:i.name)??"未知"})}},{title:"战斗属性",key:"combat",width:160,render:(s,l)=>e.jsxs(O,{direction:"vertical",size:0,children:[e.jsxs(t.Text,{children:["攻击: ",(l.攻击??0).toLocaleString()]}),e.jsxs(t.Text,{children:["防御: ",(l.防御??0).toLocaleString()]}),e.jsxs(t.Text,{children:["血量: ",(l.当前血量??0).toLocaleString(),"/",(l.血量上限??0).toLocaleString()]})]})},{title:"修仙资源",key:"resources",width:140,render:(s,l)=>e.jsxs(O,{direction:"vertical",size:0,children:[e.jsxs(t.Text,{children:["灵石: ",(l.灵石??0).toLocaleString()]}),e.jsxs(t.Text,{children:["神石: ",(l.神石??0).toLocaleString()]}),e.jsxs(t.Text,{children:["轮回点: ",l.轮回点]})]})},{title:"修仙成就",key:"achievements",width:140,render:(s,l)=>e.jsxs(O,{direction:"vertical",size:0,children:[e.jsxs(t.Text,{children:["镇妖塔: ",l.镇妖塔层数,"层"]}),e.jsxs(t.Text,{children:["神魄段: ",l.神魄段数,"段"]}),e.jsxs(t.Text,{children:["魔道值: ",l.魔道值]})]})},{title:"操作",key:"actions",width:150,render:(s,l)=>e.jsxs(O,{children:[e.jsx(U,{title:"查看修仙详情",children:e.jsx(I,{type:"primary",icon:e.jsx(B,{}),onClick:()=>{c(l),m(!0)},children:"查看"})}),e.jsx(U,{title:"编辑用户信息",children:e.jsx(I,{icon:e.jsx(E,{}),onClick:()=>R(l),children:"编辑"})})]})}];return e.jsxs(O,{direction:"vertical",size:"large",className:"bg-slate-200 p-4",style:{width:"100%"},children:[e.jsx(r,{title:e.jsxs(O,{align:"center",children:[e.jsx(w,{}),e.jsx(t.Text,{strong:!0,children:"玩家管理"})]}),extra:e.jsx(I,{type:"primary",loading:i,onClick:()=>{N(1,S.pageSize)},children:"刷新"}),children:e.jsx(t.Text,{type:"secondary",children:"管理修仙界众位道友信息"})}),e.jsxs(o,{gutter:[16,16],children:[e.jsx(x,{xs:24,md:6,children:e.jsx(r,{children:e.jsx(j,{title:"总修仙者",value:Number(v.total??0),prefix:e.jsx(y,{})})})}),e.jsx(x,{xs:24,md:6,children:e.jsx(r,{children:e.jsx(j,{title:"高阶修士",value:Number(v.highLevel??0),prefix:e.jsx(w,{})})})}),e.jsx(x,{xs:24,md:6,children:e.jsx(r,{children:e.jsx(j,{title:"总灵石",value:Number(v.totalLingshi??0),prefix:e.jsx($,{})})})}),e.jsx(x,{xs:24,md:6,children:e.jsx(r,{children:e.jsx(j,{title:"总轮回",value:Number(v.totalLunhui??0),prefix:e.jsx(k,{})})})})]}),e.jsx(f.Search,{placeholder:"搜索修仙者名号或ID...",value:a,onChange:e=>n(e.target.value),onSearch:()=>{V()},onPressEnter:()=>{V()},allowClear:!0}),e.jsx(r,{title:"修仙者列表",children:e.jsx(b,{columns:W,dataSource:l,rowKey:"id",loading:i,pagination:{current:S.current,pageSize:S.pageSize,total:S.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,s)=>`第 ${s[0]}-${s[1]} 条，共 ${e} 条`},onChange:e=>{F(e.current,e.pageSize)},scroll:{x:1200}})}),e.jsx(q,{userDetailVisible:P,setUserDetailVisible:m,selectedUser:Q,getSexDisplay:H,getLevelName:_,getLinggenColor:M}),e.jsx(J,{visible:G,onCancel:()=>g(!1),onSave:e=>{A(e)},user:Q,loading:K,getSexDisplay:H,getLinggenColor:M})]})}export{K as default};
