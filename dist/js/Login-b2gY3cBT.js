import{j as e,e as s}from"./index-D_MJe6zM.js";import{r as t,e as a}from"./react-vendor-BNT5GVrG.js";import"./XiuxianUserSelector-DASyPVze.js";const l=({children:s,className:t=""})=>e.jsx("div",{className:`bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-6 sm:p-8 shadow-2xl ${t}`,children:s}),r=({type:s,title:t,message:a,className:l=""})=>{const r={error:"from-red-500/10 to-pink-500/10 border-red-500/30 text-red-400",warning:"from-yellow-500/10 to-orange-500/10 border-yellow-500/30 text-yellow-400",info:"from-blue-500/10 to-cyan-500/10 border-blue-500/30 text-blue-400",success:"from-green-500/10 to-emerald-500/10 border-green-500/30 text-green-400"};return e.jsx("div",{className:`mb-6 bg-gradient-to-r ${r[s]} border rounded-xl p-4 ${l}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-3 h-3 ${{error:"bg-red-400",warning:"bg-yellow-400",info:"bg-blue-400",success:"bg-green-400"}[s]} rounded-full flex-shrink-0 mt-1`}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:`font-semibold text-sm sm:text-base ${r[s].split(" ")[3]}`,children:t}),e.jsx("p",{className:"text-slate-300 text-xs sm:text-sm mt-1",children:a})]})]})})},n=({icon:s,type:t="text",name:a,placeholder:l,required:r=!1,minLength:n,className:i="",value:c,onChange:d})=>e.jsx("div",{className:i,children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-slate-400 text-lg",children:s})}),e.jsx("input",{name:a,type:t,required:r,minLength:n,className:"w-full pl-10 pr-4 py-3 sm:py-3 xiuxian-input rounded-xl text-sm sm:text-base",placeholder:l,value:c,onChange:d})]})}),i=({text:s,className:t=""})=>e.jsx("div",{className:`my-6 ${t}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-slate-700/50"})}),s&&e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-slate-800/50 text-slate-400",children:s})})]})});function c(){const{loading:c,error:d,handleSubmit:m}=(()=>{const[e,l]=t.useState(!1),[r,n]=t.useState(""),{login:i}=s(),c=a(),d=async e=>{l(!0),n("");try{const s=await i(e.username,e.password);s.success?c("/"):n(s.message||"登录失败")}catch(s){n("错误，请重试")}finally{l(!1)}};return{loading:e,error:r,handleSubmit:e=>{e.preventDefault();const s=new FormData(e.target),t=s.get("username"),a=s.get("password");t&&a?d({username:t,password:a}):n("请输入用户名和密码")},onFinish:d}})();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"relative z-10 w-full max-w-md mx-auto",children:[e.jsxs(l,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-white text-xl sm:text-2xl font-semibold mb-2",children:"管理员登录"}),e.jsx("p",{className:"text-slate-400 text-sm sm:text-base",children:"请输入您的管理员账号和密码"})]}),d&&e.jsx(r,{type:"error",title:"登录失败",message:d}),e.jsxs("form",{onSubmit:m,className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"用户名"}),e.jsx(n,{icon:"👤",type:"text",name:"username",placeholder:"请输入管理员用户名",required:!0,minLength:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"密码"}),e.jsx(n,{icon:"🔒",type:"password",name:"password",placeholder:"请输入密码",required:!0,minLength:6})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 sm:py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:ring-offset-2 focus:ring-offset-slate-800 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",children:c?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"登录中..."})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"🚪"}),e.jsx("span",{children:"登录"})]})})]}),e.jsx(i,{text:"系统信息"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-slate-400",children:[e.jsx("span",{children:"系统版本:"}),e.jsx("span",{className:"text-white",children:"v1.3.0"})]}),e.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-slate-400",children:[e.jsx("span",{children:"技术支持:"}),e.jsx("span",{className:"text-white",children:"lemonade-lab"})]})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"© 2024 修仙管理系统."})}),e.jsx(r,{type:"info",title:"安全提醒",message:"请确保在安全的环境下登录，不要在公共场所保存密码。",className:"mt-4"})]})})}export{c as default};
